\section{Initial issues with implementation}
After establishing a clear direction for the project, implementation could begin.
However, the GIRAF project ran into certain difficulties in the beginning of sprint 1 implementation.
This section details the biggest problems encountered.

\subsection{Change of framework}\label{change-of-framework}
The developers of last year had made the choice of changing the development framework from using Android Studio to Xamarin in order to support building the application for iOS.
However, with the introduction of full stack teams this lead to a series of issues. Approximately 1/4th of the developers on the GIRAF project this year were using some variation of GNU/Linux as their operating system of choice, which Xamarin does not officially support.
Previously, this had not been a problem, as only the dedicated front end development group would be working with Xamarin. 
\\\\
This led to one group spending a lot of time investigating different ways to make the Xamarin project compile on Linux, but as time progressed it was deemed infeasible to implement a series of workarounds to make the project compile.
The front end skill group held a meeting to discuss the pros and cons of making the Xamarin project work versus changing to another framework, which would natively support Linux.
The following pros and cons were identified:

\begin{itemize}
    \item [\textbf{Pros}]
    \item The most difficult part to reimplement is authorization
    \item It is difficult to maintain the Linux compatibility for Xamarin, as the problems varied between machines
    \item The \texttt{Swagger API} generates bad code, which can be fixed while changing the framework
    \item It would be possible to implement a cleaner UI while re-working the front end
    \item It will be easier for future students to work on GIRAF if it works on Linux
    \item [\textbf{Cons}]
    \item Changing will require a new language that the developers may not have worked with before
    \item Some people have managed to get Xamarin to compile
    \item It is possible to compile Xamarin using Windows, which is offered for free by the university
    \item It will increase the time that is spent before a product can be released to the customers
\end{itemize}
\noindent
After discussing the pros and cons internally in the skill group, all the developers on the GIRAF project were invited to an open discussion. 
After the open meeting, it was clear that the majority of the developers were ready to make the change, and it was decided that \texttt{Flutter} would be used as a new framework. 
\\\\
Flutter is an open-source mobile application development framework by Google, that uses the \texttt{Dart} language.
One of the major reasons for choosing Flutter over alternative frameworks such as \texttt{React Native} or \texttt{Ionic} is the availability of tutorials and guides, for both Flutter and Dart. 
Likewise, it was deemed that, due to Flutter being developed by Google, the chance that it would become outdated anytime soon was highly unlikely.

\subsubsection{Flutter weekend}
To make the transition to Flutter smoother for everyone in the GIRAF project, a group of volunteers were assembled that spent the following weekend laying the ground work for switching to Flutter. 
The team spent the weekend implementing the core part of the application, so that the rest of the groups in the GIRAF project had something to work off of. 
The team consisted of eight people, where four of them were from group sw611f19, two from our group, one from group sw612f19 and one from the process group.
The weekend was spent implementing the API in Flutter, re-creating all the models on the front end and implementing a simple graphical user interface (GUI) for the application.
\\\\
A base design of the login screen, the week plan screen and the settings screen were created to get some insight into how applications are designed in Flutter, and to serve as a foundation such that the rest of the groups had some examples to look at when they were to implement user stories in the coming week.
A big part of the weekend was also spent looking at best practices and standards regarding Flutter development, and which architectures could be used when implementing the application.
The team settled on using the \texttt{BLoC} structure and some ground work was done to facilitate this.
A more detailed description of how Flutter works can be found in \autoref{subsec:introToFlutter}.

We created new user stories that focused on implementing the whole application from scratch and getting the application to the same state it was in before the change of framework.
\\\\
A workshop was held for all the groups in the GIRAF project, where a brief introduction to Flutter was given, and some live coding was done to give an example of the workflow.

\subsection{New user stories}
This section details the user stories that were created and deemed of highest importance following the change of framework.
These user stories were created with the purpose of reimplementing the foundation of the program.
In contrast to the initial sprint planning, we also decided to assign user stories to our group.
All assigned user stories and the groups working to implement them can be seen on \autoref{table:user-stories-sprint-1}.
\begin{longtable}{|p{2.8cm}|p{8cm}|p{1.6cm}|}
    \hline
    Issue ID        & User story name                                                                                                                                                          & Group assigned       \\ \hline
    Weekplanner\#23 & As a guardian I would like to be able to access parts of the system through the top bar so that I can easily go to the screen I want & Group 2            \\ \hline
    Weekplanner\#43 & As a guardian I would like to be able to view a given citizens week plan so that I can get an overview of what is happening this week for them & Group 10             \\ \hline
    Weekplanner\#44 & As a citizen I would like to be able to view my week plan so that I know what is going to happen & Group 10               \\ \hline
    Weekplanner\#46 & As a guardian I would like to be able to search for pictograms when adding a new activity so that I can find a pictogram that suits the activity & Group 11              \\ \hline
    Weekplanner\#47 & As a guardian I would like to be able to choose a citizen so that I can choose who I’m editing the week plan for  & Group 9             \\ \hline
    Weekplanner\#48 & As a guardian I would like to be able to log into the system using a username and password, so that I can see my associated citizens & Group 9             \\ \hline
    Weekplanner\#49 & As a guardian I would like to be able to log out so that the system is not left logged in after I’m done using it. & Group 12              \\ \hline
    Weekplanner\#50 & As a guardian I would like to be able to choose which week plan to show the citizen so that I can have multiple plans available to each citizen & Group 13             \\ \hline
    Weekplanner\#51 & As a guardian I would like to be able to create a new week plan so that it is suited to the given citizens week & Group 8             \\ \hline
    Wiki\#3         & Migrate pages under project management                                                                                                                                   & Group 2              \\ \hline
    Wiki\#6         & Migrate pages under REST API Development from "Backend architecture" to "Future work"                                                                                    & Group 12             \\ \hline
    \caption{User stories for all groups in sprint 1 after changing to Flutter.}\label{table:user-stories-sprint-1}
\end{longtable}
\noindent
We were assigned the user stories \textit{Weekplaner\#43} and \textit{Weekplanner\#44}.
These user stories involved the weekplanner screens for both the guardian and the citizen modes.

\subsection{New design guide}
As Xamarin was changed to Flutter, the entire front end had to be reworked. 
Therefore, we took a look at the old design guide and decided that there were things we wanted to change in order to get a more modern and simple design.
This meant that a new design guide had to be created.
The first thing we wanted to do was make the design guide more compact.
The old design guide was an 80 pages long pdf file that could be downloaded from Phabricator.
The new design guide is instead found on the GitHub wiki alongside the rest of the GIRAF project, making it easier to find.
The new design guide will most likely grow larger as the project goes on, but keeping it updated should be an easy task for future students now that it is available as markdown files rather than a pdf document without any source. 

\subsubsection{Typography}
The font was changed to \textit{Quicksand font}, because the customers prefer the letter "a" to be the handwritten version which this font allows.
The text should also never be bold, italic or underlined to ensure consistent design.

\subsubsection{Icons}
Every icon in the old design guide has been changed for the new design guide.
The old icons had an out of date look, and did not result in a good design for the application.
Most of the icons that are used in this project are icons from the \texttt{Font Awesome} project, which is a font and CSS framework.
Some custom icons needed to be created, however. \\
These can be seen on \autoref{fig:change-profile-icons}. \\\\
These icons are used for switching from guardian to citizen and vice versa, and to add a new timer.
In the old design guide there was only one icon for switching between guardian and citizen.

\begin{figure}[htp]

    \centering
    \includegraphics[width=.1\textwidth]{figures/changeToGuardian}\hfill
    \includegraphics[width=.1\textwidth]{figures/changeToCitizen}\hfill
    \includegraphics[width=.1\textwidth]{figures/old-change-profile}
    
    \caption{ The leftmost icon is to change from citizen to guardian. The middle icon is the one to change from guardian to citizen and the rightmost icon is the old icon for changing profile.}
    \label{fig:change-profile-icons}
\end{figure}
\noindent
After showing these icons to the customers, they decided that they would prefer the icons to be green rather than red, since it seemed more intuitive to them.
With this feedback, new icons were generated and added to the design guide, so that all developers would have the newest information available to them.

\begin{figure}[htp]

    \centering
    \includegraphics[width=.1\textwidth]{figures/changeToGuardianGreen}\hfill
    \includegraphics[width=.1\textwidth]{figures/changeToCitizenGreen}
    
    \caption{The revised icons after customer feedback.}
    \label{fig:change-profile-icons-green}
\end{figure}
